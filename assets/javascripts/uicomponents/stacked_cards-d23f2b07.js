document.addEventListener("DOMContentLoaded",function(){function t(){function t(){l(),p(0,0,1,h),A&&(p(0,0,0,Y),p(0,0,0,X),p(0,0,0,b)),f(5),F>=T||F+1<T&&(v[F+1].style.opacity=".8")}function a(){T=v.length,z>T&&(z=T)}function s(){h=v[F]}function e(){F>=T||(A&&(X.classList.remove("no-transition"),b.classList.remove("no-transition"),X.style.zIndex="8",p(0,0,1,X)),setTimeout(function(){r(),d()},300))}function n(){l(),p(-1e3,0,0,h),A&&(p(-1e3,0,0,Y),p(-1e3,0,0,b),c()),F+=1,u(),s(),y()}function r(){l(),p(1e3,0,0,h),A&&(p(1e3,0,0,X),p(1e3,0,0,b),d()),F+=1,u(),s(),y()}function o(){l(),p(0,-1e3,0,h),A&&(p(0,-1e3,0,Y),p(0,-1e3,0,X),p(0,-1e3,0,b),m()),F+=1,u(),s(),y()}function l(){v[F]&&(A&&(Y.classList.remove("no-transition"),X.classList.remove("no-transition"),b.classList.remove("no-transition")),v[F].classList.remove("no-transition"),v[F].style.zIndex=6)}function c(){F>=T||A&&(setTimeout(function(){"Top"===I?B=M*(z-1):"Bottom"!==I&&"None"!==I||(B=0),D||(Y.classList.add("no-transition"),b.classList.add("no-transition")),requestAnimationFrame(function(){Y.style.transform="translateX(0) translateY("+B+"px) translateZ(0)",Y.style.webkitTransform="translateX(0) translateY("+B+"px) translateZ(0)",Y.style.opacity="0",b.style.transform="translateX(0) translateY("+B+"px) translateZ(0)",b.style.webkitTransform="translateX(0) translateY("+B+"px) translateZ(0)",b.style.opacity="0"})},300),D=!1)}function d(){F>=T||A&&(setTimeout(function(){"Top"===I?B=M*(z-1):"Bottom"!==I&&"None"!==I||(B=0),D||(X.classList.add("no-transition"),b.classList.add("no-transition")),requestAnimationFrame(function(){X.style.transform="translateX("+B+"px) translateY(0) translateZ(0)",X.style.webkitTransform="translateX("+B+"px) translateY(0) translateZ(0)",X.style.opacity="0",b.style.transform="translateX("+B+"px) translateY(0) translateZ(0)",b.style.webkitTransform="translateX("+B+"px) translateY(0) translateZ(0)",b.style.opacity="0"})},300),D=!1)}function m(){F>=T||A&&(setTimeout(function(){"Top"===I?B=M*(z-1):"Bottom"!==I&&"None"!==I||(B=0),D||(Y.classList.add("no-transition"),X.classList.add("no-transition"),b.classList.add("no-transition")),requestAnimationFrame(function(){Y.style.transform="translateX("+B+"px) translateY(0) translateZ(0)",Y.style.webkitTransform="translateX("+B+"px) translateY(0) translateZ(0)",Y.style.opacity="0",X.style.transform="translateX("+B+"px) translateY(0) translateZ(0)",X.style.webkitTransform="translateX("+B+"px) translateY(0) translateZ(0)",X.style.opacity="0",b.style.transform="translateX("+B+"px) translateY(0) translateZ(0)",b.style.webkitTransform="translateX("+B+"px) translateY(0) translateZ(0)",b.style.opacity="0"})},300),D=!1)}function y(){F>=T||(v[F-1].classList.remove("stackedcards-active"),v[F-1].classList.add("stackedcards-hidden"),v[F].classList.add("stackedcards-active"))}function f(t){v[F]&&(v[F].style.zIndex=t)}function p(t,a,s,e){requestAnimationFrame(function(){function n(t){return t/10>15?15:t/10<-15?-15:t/10}var r=e;rotateElement=N?n(t):0,"Top"===I?(B=M*(z-1),r&&(r.style.webkitTransform="translateX("+t+"px) translateY(-50%) translateZ(0) rotate("+rotateElement+"deg)",r.style.transform="translateX("+t+"px) translateY((-50%) translateZ(0) rotate("+rotateElement+"deg)",r.style.opacity=s)):"Bottom"!==I&&"None"!==I||r&&(r.style.webkitTransform="translateX("+t+"px) translateY("+a+"px) translateZ(0) rotate("+rotateElement+"deg)",r.style.transform="translateX("+t+"px) translateY("+a+"px) translateZ(0) rotate("+rotateElement+"deg)",r.style.opacity=s)})}function u(){requestAnimationFrame(function(){B=0;var t=5,a=1,s=1,e=z,n=M;for(i=F;i<F+z;i++)v[i]&&("Top"===I?(v[i].classList.add("stackedcards-top","stackedcards--animatable","stackedcards-origin-top"),A&&(Y.classList.add("stackedcards-origin-top"),X.classList.add("stackedcards-origin-top"),b.classList.add("stackedcards-origin-top")),B=n*e,e--):"Bottom"===I?(v[i].classList.add("stackedcards-bottom","stackedcards--animatable","stackedcards-origin-bottom"),A&&(Y.classList.add("stackedcards-origin-bottom"),X.classList.add("stackedcards-origin-bottom"),b.classList.add("stackedcards-origin-bottom")),B+=n):"None"===I&&(v[i].classList.add("stackedcards-none","stackedcards--animatable"),B+=n),v[i].style.transform="scale("+a+") translateX("+(B-n)+"px) translateY(-50%) translateZ(0)",v[i].style.webkitTransform="scale("+a+") translateX("+(B-n)+"px) translateY(-50%)) translateZ(0)",v[i].style.opacity=s,v[i].style.zIndex=t,a-=.04,s-=1/z,t--)})}function x(){P=(j+E/2)/100*-1,Q=W/100,R=W/100*-1,P>1&&(P=1),Q>1&&(Q=1),R>1&&(R=1)}function k(t){C=(new Date).getTime(),H=t.changedTouches[0].clientX,O=t.changedTouches[0].clientY,G=H,J=O,x(),V=!0,F>=T||v[F]&&(v[F].classList.add("no-transition"),f(6),A&&(Y.classList.add("no-transition"),X.classList.add("no-transition"),b.classList.add("no-transition")),F+1<T&&(v[F+1].style.opacity="1"),E=v[F].offsetHeight/3)}function L(t){G=t.changedTouches[0].pageX,J=t.changedTouches[0].pageY,W=G-H,j=J-O,x(),F>=T||(t.preventDefault(),p(W,j,1,h),A&&(p(W,j,P,b),W<0?(p(W,j,R,Y),p(0,0,0,X)):W>0&&(p(W,j,Q,X),p(0,0,0,Y)),A&&(Y.style.zIndex=8,X.style.zIndex=8,b.style.zIndex=7)))}function g(){V&&(W=G-H,j=J-O,K=(new Date).getTime()-C,V=!1,F>=T||(j<-1*E&&W>Z/2*-1&&W<Z/2?j<-1*E||Math.abs(j)/K>S?o():t():W<0?W<Z/2*-1||Math.abs(W)/K>S?n():t():W>0&&(W>Z/2&&Math.abs(W)/K>S?r():t())))}var T,b,X,Y,v,Z,h,w,E,q,B,I="Top",N=!1,z=4,M=13,A=!1,F=0,S=.3,D=!0;if(q=document.getElementById("stacked-cards-block"),w=q.querySelector(".stackedcards-container"),v=w.children,b=q.querySelector(".stackedcards-overlay.top"),X=q.querySelector(".stackedcards-overlay.right"),Y=q.querySelector(".stackedcards-overlay.left"),a(),s(),Z=w.offsetWidth,h=v[0],u(),addMargin=M*(z-1)+"px","Top"===I){for(i=z;i<T;i++)v[i].classList.add("stackedcards-top","stackedcards--animatable","stackedcards-origin-top");B=M*(z-1),w.style.marginBottom=addMargin}else if("Bottom"===I){for(i=z;i<T;i++)v[i].classList.add("stackedcards-bottom","stackedcards--animatable","stackedcards-origin-bottom");B=0,w.style.marginBottom=addMargin}else if("None"===I){for(i=z;i<T;i++)v[i].classList.add("stackedcards-none","stackedcards--animatable");B=0}for(i=z;i<T;i++)v[i].style.zIndex=0,v[i].style.opacity=0,v[i].style.webkitTransform="scale("+(1-.04*z)+") translateX("+B+"px) translateY(0) translateZ(0)",v[i].style.transform="scale("+(1-.04*z)+") translateX("+B+"px) translateY(0) translateZ(0)";v[F]&&v[F].classList.add("stackedcards-active"),A?(Y.style.transform="translateX(0px) translateY("+B+"px) translateZ(0px) rotate(0deg)",Y.style.webkitTransform="translateX(0px) translateY("+B+"px) translateZ(0px) rotate(0deg)",X.style.transform="translateX(0px) translateY("+B+"px) translateZ(0px) rotate(0deg)",X.style.webkitTransform="translateX(0px) translateY("+B+"px) translateZ(0px) rotate(0deg)",b.style.transform="translateX(0px) translateY("+B+"px) translateZ(0px) rotate(0deg)",b.style.webkitTransform="translateX(0px) translateY("+B+"px) translateZ(0px) rotate(0deg)"):(Y.className="",X.className="",b.className="",Y.classList.add("stackedcards-overlay-hidden"),X.classList.add("stackedcards-overlay-hidden"),b.classList.add("stackedcards-overlay-hidden")),setTimeout(function(){q.classList.remove("init")},150);var C,H,O,W,j,G,J,K,P,Q,R,U=q,V=!1;U.addEventListener("touchstart",k,!0),U.addEventListener("touchmove",L,!0),U.addEventListener("touchend",g,!0),document.querySelector(".right-action").addEventListener("click",e,!1)}t()});