function classes(e){function a(e,r){r.children?r.children.forEach(function(e){a(r.name,e)}):t.push({packageName:e,className:r.name,value:r.size})}var t=[];return a(null,e),{children:t}}var diameter=300,format=d3.format(",d"),color=d3.scaleQuantize().domain([0,1]).range(["brown","#00AAEE"]),bubble=d3.pack().size([diameter,diameter]).padding(10),sv2g=d3.select("#bubble_02").append("svg").attr("width",diameter).attr("height",diameter).attr("class","bubble");d3.json("data/flare.json",function(e,a){if(e)throw e;var t=d3.hierarchy(classes(a)).sum(function(e){return e.value}).sort(function(e,a){return a.value-e.value});bubble(t);var r=sv2g.selectAll(".node").data(t.children).enter().append("g").attr("class","node").attr("transform",function(e){return"translate("+e.x+","+e.y+")"});r.append("title").text(function(e){return e.data.className+": "+format(e.value)}),r.append("circle").attr("r",function(e){return e.r}).style("fill",function(e){return color(e.data.packageName)})}),d3.select(self.frameElement).style("height",diameter+"px");