function drawLineChart(t){function a(t){circleContainer=b.append("g"),t.forEach(function(t,a){e(t,a)})}function e(t,a){circleContainer.datum(t).append("circle").attr("class","lineChart--circle").attr("r",0).attr("cx",function(t){return p(t.date)}).attr("cy",function(t){return h(t.value)}).on("mouseenter",function(t){d3.select(this).attr("class","lineChart--circle lineChart--circle__highlighted").attr("r",7),t.active=!0,n(t)}).on("mouseout",function(t){d3.select(this).attr("class","lineChart--circle").attr("r",6),t.active&&(r(),t.active=!1)}).on("click touch",function(t){t.active?n(t):r()}).transition().delay(150*a).attr("r",6)}function r(){circleContainer.selectAll(".lineChart--bubble").remove()}function n(t){var a=circleContainer.append("g").attr("class","lineChart--bubble").attr("transform",function(){var a="translate(";return a+=p(t.date)-g/2,a+=", ",a+=h(t.value)-x-C,a+=")"});a.append("path").attr("d","m 2.3282035,0.4498068 c -1.3388283,0 -2.4241631,1.084582 -2.4241631,2.42342 l 0,36.0962242 c 0,1.338418 1.08392804,2.42342 2.4248475,2.42342 l 33.4616981,0 c 3.69124,3.008365 0.04659,-0.04956 3.709414,3.072089 3.570983,-3.048454 0.0041,-0.02624 3.637879,-3.072089 l 33.529241,0 c 1.341411,0 2.42884,-1.084582 2.42884,-2.42342 l 0,-36.0962242 c 0,-1.338418 -1.089345,-2.42342 -2.424164,-2.42342 l -74.3435925,0 z m 0,0").attr("width",g).attr("height",x);var e=a.append("text").attr("class","lineChart--bubble--text");e.append("tspan").attr("class","lineChart--bubble--label").attr("x",g/2).attr("y",x/3).attr("text-anchor","middle").text(y(t.date)),e.append("tspan").attr("class","lineChart--bubble--value").attr("x",g/2).attr("y",x/4*2.8).attr("text-anchor","middle").text(t.value)}function i(t,a){return function(e){var r=d3.interpolateArray(e,t);return function(t){return a(r(t))}}}function l(){return d3.axisBottom(p).ticks(5)}function c(){return d3.axisLeft(h).ticks(5)}var d={},o=($("#lineChart"),550);d.top=10,d.right=0,d.left=0,d.bottom=20;var u=o,s=.4*u,f=d3.timeParse("%Y-%m-%d"),p=d3.scaleTime().range([43,u-43]),h=d3.scaleLinear().range([s,0]),m=d3.area().x(function(t){return p(t.date)}).y0(s).y1(function(t){return h(t.value)}),v=d3.line().x(function(t){return p(t.date)}).y(function(t){return h(t.value)}),b=d3.select("#line").attr("width",u+d.left+d.right).attr("height",s+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");b.append("rect").attr("width","100%").attr("height","100%").attr("fill","#ffffff").attr("transform","translate(-"+d.left+",-"+d.top+")"),t=t.map(function(t){return t.date=f(t.date),t}),startData=t.map(function(t){return{date:t.date,value:0}}),p.domain(d3.extent(t,function(t){return t.date})),h.domain([0,d3.max(t,function(t){return t.value})]),b.append("path").data([startData]).attr("class","lineChart--area").attr("d",m).transition().duration(1500).attrTween("d",i(t,m)),b.append("path").data([startData]).attr("class","lineChart--areaLine").attr("d",v).transition().duration(1500).delay(750).attrTween("d",i(t,v)).on("end",function(){a(t)}),b.append("g").attr("transform","translate(0,"+s+")").call(d3.axisBottom(p)),b.append("g").call(d3.axisLeft(h)).remove(),b.append("g").attr("class","grid_x").attr("transform","translate(0,"+s+")").call(l().tickSize(-s).tickFormat("")),b.append("g").attr("class","grid_y").call(c().tickSize(-u).tickFormat(""));var g=80,x=49,C=5,y=d3.timeFormat("%Y-%m-%d")}data1=[{date:"2010-01-01",value:10},{date:"2010-06-23",value:20},{date:"2011-03-26",value:30},{date:"2011-04-09",value:40},{date:"2012-02-12",value:60},{date:"2012-11-21",value:88},{date:"2016-03-29",value:45}],drawLineChart(data1);