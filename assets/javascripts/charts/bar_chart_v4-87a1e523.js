function draw(){var t=svg.node().getBoundingClientRect(),a=t.width-margin.left-margin.right,e=t.height-margin.top-margin.bottom;x.rangeRound([0,a]),y.rangeRound([e,0]),g.select(".axis--x").attr("transform","translate(0,"+e+")").call(d3.axisBottom(x)),g.select(".axis--y").call(d3.axisLeft(y).ticks(10,"%"));var r=g.selectAll(".bar").data(theData);r.enter().append("rect").attr("class","bar").attr("x",function(t){return x(t.letter)}).attr("y",function(t){return y(t.frequency)}).attr("width",x.bandwidth()).attr("height",function(t){return e-y(t.frequency)}),r.attr("x",function(t){return x(t.letter)}).attr("y",function(t){return y(t.frequency)}).attr("width",x.bandwidth()).attr("height",function(t){return e-y(t.frequency)}),r.exit().remove()}function rightRoundedRect(t,a,e,r,n){return"M"+t+","+a+"h"+(e-n)+"a"+n+","+n+" 0 0 1 "+n+","+n+"v"+(r-2*n)+"a"+n+","+n+" 0 0 1 "+-n+","+n+"h"+(n-e)+"z"}function loadData(t){d3.tsv(t,function(t){return t.frequency=+t.frequency,t},function(t,a){if(t)throw t;theData=a,x.domain(theData.map(function(t){return t.letter})),y.domain([0,d3.max(theData,function(t){return t.frequency})]),draw()})}var svg=d3.select("#bar2");margin={top:20,right:20,bottom:30,left:40},x=d3.scaleBand().padding(.1),y=d3.scaleLinear(),theData=undefined;var g=svg.append("g").attr("transform","translate("+margin.left+","+margin.top+")");g.append("g").attr("class","axis axis--x"),g.append("g").attr("class","axis axis--y"),g.append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy","0.71em").attr("text-anchor","end").text("Frequency"),window.addEventListener("resize",draw),loadData("data/bar_data.tsv");